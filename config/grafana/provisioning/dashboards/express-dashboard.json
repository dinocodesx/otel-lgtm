{
  "annotations": {
    "grafana_dashboard": {
      "title": "Express Application Dashboard",
      "tags": ["express", "otel-lgtm", "monitoring"],
      "timezone": "browser",
      "schemaVersion": 16,
      "version": 1
    }
  },
  "panels": [
    {
      "type": "graph",
      "title": "Request Count",
      "targets": [
        {
          "target": "sum(rate(http_requests_total[1m]))",
          "refId": "A"
        }
      ],
      "xaxis": {
        "mode": "time"
      },
      "yaxes": [
        {
          "format": "short",
          "label": "Requests",
          "logBase": 1,
          "min": 0
        },
        {
          "format": "short",
          "label": "Requests",
          "logBase": 1,
          "min": 0
        }
      ]
    },
    {
      "type": "graph",
      "title": "Error Rate",
      "targets": [
        {
          "target": "sum(rate(http_requests_total{status=~\"5..\"}[1m])) / sum(rate(http_requests_total[1m]))",
          "refId": "B"
        }
      ],
      "xaxis": {
        "mode": "time"
      },
      "yaxes": [
        {
          "format": "percent",
          "label": "Error Rate",
          "logBase": 1,
          "min": 0,
          "max": 1
        },
        {
          "format": "short",
          "label": "Error Rate",
          "logBase": 1,
          "min": 0
        }
      ]
    },
    {
      "type": "graph",
      "title": "Response Time",
      "targets": [
        {
          "target": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))",
          "refId": "C"
        }
      ],
      "xaxis": {
        "mode": "time"
      },
      "yaxes": [
        {
          "format": "ms",
          "label": "Response Time (ms)",
          "logBase": 1,
          "min": 0
        },
        {
          "format": "short",
          "label": "Response Time",
          "logBase": 1,
          "min": 0
        }
      ]
    },
    {
      "type": "table",
      "title": "Recent Requests",
      "targets": [
        {
          "target": "http_requests_total",
          "refId": "D"
        }
      ],
      "columns": [
        {
          "text": "Method",
          "value": "method"
        },
        {
          "text": "Path",
          "value": "path"
        },
        {
          "text": "Status",
          "value": "status"
        },
        {
          "text": "Duration",
          "value": "duration"
        }
      ]
    }
  ],
  "refresh": "5s",
  "time": {
    "from": "now-1h",
    "to": "now"
  }
}